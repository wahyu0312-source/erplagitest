<!doctype html>
<html lang="ja" data-theme="dark">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>東京精密発條株式会社システム</title>

  <!-- Fonts & Icons -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>

  <!-- ===== TOKENS: Midnight Violet (Dark-first) ===== -->
  <style>
    :root{
      /* Light */
      --brand:#6d5bd0; --brand-2:#ff72b6;
      --ink:#0f172a; --muted:#667085;
      --bg:#f4f6fb; --panel:#ffffff; --panel-2:#f7f7fb;
      --border:#e6e8f0; --radius:16px;
      --shadow:0 12px 32px rgba(2,6,23,.08);
      --chip:#eef2ff; --ok:#dcfce7; --ng:#ffe4e6;
      --sidebar-w: 260px;
    }
    [data-theme="dark"]{
      --bg:#171a2b; --panel:#1f2340; --panel-2:#232748;
      --ink:#e6e9f5; --muted:#a4acc4; --border:#2d335c;
      --shadow:0 14px 40px rgba(0,0,0,.45);
      --brand:#7a6bf0; --brand-2:#ff72b6; --chip:#2a2f57;
      --ok:#153b2a; --ng:#3b1a25;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; background:var(--bg); color:var(--ink);
      font-family:"Poppins",system-ui,-apple-system,"Segoe UI",Roboto,"Noto Sans JP","Yu Gothic",sans-serif;
    }
    h1,h2,h3,h4,h5,h6,p,span,div,label,small,i,svg{ color:var(--ink); }
    .muted{ color:var(--muted) !important; }
    .s{ font-size:12px }
    .hidden{ display:none !important }
    .row{ display:flex; align-items:center; gap:.6rem }
    .row-between{ display:flex; align-items:center; justify-content:space-between; gap:.6rem }
    .grid2{ display:grid; grid-template-columns:1fr 1fr; gap:14px }
    @media (max-width:980px){ .grid2{ grid-template-columns:1fr } }

    /* ===== Layout with Left Sidebar ===== */
    .app{
      min-height:100dvh;
      display:grid;
      grid-template-columns: var(--sidebar-w) 1fr;
    }
    .sidebar{
      position:sticky; top:0; height:100dvh; overflow:auto;
      background:linear-gradient(180deg,#1b1f38,#24294d);
      border-right:1px solid var(--border);
      padding:18px 14px;
    }
    .brand{
      display:flex; align-items:center; gap:.6rem; margin-bottom:16px;
    }
    .brand .logo{
      width:36px; height:36px; display:grid; place-items:center; border-radius:12px;
      background:linear-gradient(145deg, var(--brand), #4a3bc7);
      color:#fff; font-weight:700;
      box-shadow:0 10px 20px rgba(122,107,240,.25);
    }
    .brand .title{ font-weight:600; letter-spacing:.2px }

    .nav{ display:flex; flex-direction:column; gap:6px; }
    .nav .item{
      display:flex; align-items:center; gap:.7rem; cursor:pointer;
      padding:10px 12px; border-radius:12px; color:#dbe0ff;
      border:1px solid transparent;
    }
    .nav .item i{ width:18px; text-align:center }
    .nav .item:hover{ background:rgba(255,255,255,.04); border-color:rgba(255,255,255,.06) }
    .nav .item.active{ background:rgba(122,107,240,.16); border-color:rgba(122,107,240,.25); color:#fff }

    .sidebar-bottom{
      margin-top:auto; display:flex; flex-direction:column; gap:8px;
      border-top:1px dashed rgba(255,255,255,.08); padding-top:12px;
    }

    .top-strip{
      height:56px; display:flex; align-items:center; justify-content:flex-end; gap:.5rem;
      padding:0 18px; border-bottom:1px solid var(--border);
      background:linear-gradient(90deg, rgba(255,255,255,.02), rgba(255,255,255,0));
      position:sticky; top:0; z-index:5;
    }

    main{
      min-height:100dvh; padding:16px 18px 40px;
      max-width:1400px; width:100%; margin:0 auto;
    }

    /* Cards & Controls */
    .card{
      background:var(--panel); border:1px solid var(--border); border-radius:var(--radius);
      box-shadow:var(--shadow); padding:14px;
      backdrop-filter:saturate(120%) blur(6px);
    }
    .card.stat{
      background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,0));
      border:1px solid rgba(255,255,255,.08);
    }
    .toolbar{ display:flex; gap:8px; align-items:center; flex-wrap:wrap }

    .btn{
      display:inline-flex; align-items:center; gap:.45rem;
      border:1px solid var(--border); border-radius:12px;
      background:var(--panel-2); padding:.55rem .8rem; cursor:pointer;
      color:var(--ink);
    }
    .btn.icon i{ width:1.1em; text-align:center }
    .btn.primary{ background:var(--brand); border-color:var(--brand); color:#fff }
    .btn.ghost{ background:transparent }
    .chip{ display:inline-flex; align-items:center; gap:.35rem; padding:.3rem .6rem; border-radius:999px; background:var(--chip) }
    .chip.ok{ background:var(--ok) } .chip.ng{ background:var(--ng) }

    input,select,textarea{
      height:36px; border:1px solid var(--border); border-radius:10px;
      padding:0 .7rem; background:var(--panel); color:var(--ink);
    }
    table{ width:100%; border-collapse:collapse }
    th,td{ padding:10px; border-top:1px solid var(--border); background:var(--panel); color:var(--ink) }
    th{ background:var(--panel-2); position:sticky; top:56px; z-index:1 }

    .table-wrap{ overflow:auto }

    /* Login page */
    #authView{ min-height:calc(100dvh - 56px); display:grid; place-items:center; }
    #authView .card{ width:min(520px,92vw) }

    /* Dialogs */
    dialog.dlg{ border:0; background:var(--panel); color:var(--ink); border-radius:16px; padding:14px; box-shadow:var(--shadow) }

    /* Weather strip */
    #weatherWrap{ display:flex; gap:8px; align-items:center; color:var(--muted) }
  </style>
</head>
<body>

<div class="app">
  <!-- ===== LEFT SIDEBAR ===== -->
  <aside class="sidebar" id="sidebar" aria-label="Sidebar">
    <div class="brand">
      <div class="logo">TS</div>
      <div class="title">Teisei System</div>
    </div>

    <!-- MAIN NAV -->
    <nav class="nav" id="mainNav">
      <div class="item active" id="btnToDash"><i class="fa-solid fa-gauge"></i>Dashboard</div>
      <div class="item" id="btnToSales"><i class="fa-regular fa-clipboard"></i>受注</div>
      <div class="item" id="btnToPlan"><i class="fa-solid fa-list-check"></i>生産計画</div>
      <div class="item" id="btnToShip"><i class="fa-solid fa-truck"></i>出荷予定</div>
      <div class="item" id="btnToFinPage"><i class="fa-regular fa-circle-check"></i>完成品一覧</div>
      <div class="item" id="btnToInvPage"><i class="fa-solid fa-boxes-stacked"></i>在庫</div>
      <div class="item" id="btnToInvoice"><i class="fa-regular fa-file-lines"></i>請求書</div>
      <div class="item" id="btnToAnalytics"><i class="fa-solid fa-chart-line"></i>分析チャート</div>
    </nav>

    <!-- SETTINGS / ADMIN -->
    <div class="sidebar-bottom">
      <div class="row muted s" style="justify-content:space-between">
        <span><i class="fa-solid fa-gear"></i> 設定</span>
        <span id="userInfo">—</span>
      </div>
      <div class="row">
        <button class="btn" id="btnStationQR"><i class="fa-solid fa-qrcode"></i> 工程QR</button>
        <button class="btn hidden" id="btnAddMember"><i class="fa-solid fa-user-plus"></i> Add Member</button>
      </div>
      <div class="row" style="justify-content:space-between">
        <button class="btn ghost" id="btnTheme"><i class="fa-solid fa-sun"></i> Light</button>
        <button class="btn ghost" id="btnLogout"><i class="fa-solid fa-right-from-bracket"></i> ログアウト</button>
      </div>
      <div id="weatherWrap" class="muted s">
        <i class="fa-regular fa-sun"></i>&nbsp;<span id="wxTemp">—</span>
        <span class="s muted">/</span><span id="wxWind">—</span>
        <span class="s muted">·</span><span id="wxPlace">—</span>
      </div>
    </div>
  </aside>

  <!-- ===== RIGHT CONTENT ===== -->
  <div class="content">
    <div class="top-strip"></div>
    <main>

      <!-- ===== LOGIN ===== -->
      <section id="authView" class="">
        <div class="card">
          <div class="row" style="justify-content:center;margin-bottom:6px">
            <i class="fa-solid fa-gem" style="font-size:20px;color:var(--brand)"></i>
            <h3 style="margin:0">ログイン</h3>
          </div>
          <div class="row" style="gap:12px; flex-wrap:wrap">
            <div style="display:grid;gap:6px;min-width:240px;flex:1">
              <div class="s muted">ユーザー名</div>
              <input id="inUser" placeholder="username" autocomplete="username">
            </div>
            <div style="display:grid;gap:6px;min-width:240px;flex:1">
              <div class="s muted">パスワード</div>
              <input id="inPass" type="password" placeholder="password" autocomplete="current-password">
            </div>
          </div>
          <div class="row" style="margin-top:10px">
            <button id="btnLogin" class="btn primary">ログイン</button>
            <div class="s muted">※ Menu di kiri muncul setelah login.</div>
          </div>
        </div>
      </section>

      <!-- ===== DASHBOARD ===== -->
      <section id="pageDash" class="hidden">
        <div class="grid2">
          <div class="card stat">
            <div class="row-between">
              <h3 style="margin:0">Ringkasan</h3>
              <div class="toolbar">
                <input id="searchQ" placeholder="検索…">
                <button class="btn" id="btnExportOrders"><i class="fa-regular fa-file-excel"></i> Export</button>
              </div>
            </div>
            <div class="table-wrap" style="margin-top:8px">
              <table>
                <thead>
                <tr>
                  <th>注番/得意先</th><th>品名</th><th>品番</th><th>図番</th>
                  <th>状態</th><th>工程</th><th>更新</th><th>更新者</th><th>操作</th>
                </tr>
                </thead>
                <tbody id="tbOrders"></tbody>
              </table>
            </div>
          </div>
          <div class="card stat">
            <h3 style="margin:0 0 10px">Timeline/Chart</h3>
            <canvas id="chartDash" height="220"></canvas>
          </div>
        </div>
      </section>

      <!-- ===== SALES ===== -->
      <section id="pageSales" class="hidden">
        <div class="card">
          <div class="row-between">
            <h3 style="margin:0">受注</h3>
            <div class="toolbar">
              <input id="salesSearch" placeholder="検索…">
              <button class="btn" id="btnSalesCreate"><i class="fa-solid fa-plus"></i> 作成</button>
              <button class="btn" id="btnSalesImport"><i class="fa-solid fa-upload"></i> Import</button>
              <button class="btn" id="btnSalesExport"><i class="fa-regular fa-file-excel"></i> Export</button>
              <button class="btn" id="btnSalesPrint"><i class="fa-solid fa-print"></i> Print</button>
              <button class="btn" id="btnSalesTpl"><i class="fa-regular fa-file"></i> 雛形CSV</button>
            </div>
          </div>
          <div class="table-wrap">
            <table>
              <thead id="thSales"></thead>
              <tbody id="tbSales"></tbody>
            </table>
          </div>
        </div>
      </section>

      <!-- ===== PLAN ===== -->
      <section id="pagePlan" class="hidden">
        <div class="card">
          <div class="row-between">
            <h3 style="margin:0">生産計画</h3>
            <div class="toolbar">
              <input id="planSearch" placeholder="検索…">
              <button class="btn" id="btnPlanCreate"><i class="fa-solid fa-plus"></i> 作成</button>
              <button class="btn" id="btnPlanImport"><i class="fa-solid fa-upload"></i> Import</button>
              <button class="btn" id="btnPlanExport"><i class="fa-regular fa-file-excel"></i> Export</button>
              <button class="btn" id="btnPlanPrint"><i class="fa-solid fa-print"></i> Print</button>
              <button class="btn" id="btnPlanTpl"><i class="fa-regular fa-file"></i> 雛形CSV</button>
            </div>
          </div>
          <div class="table-wrap">
            <table>
              <thead id="thPlan"></thead>
              <tbody id="tbPlan"></tbody>
            </table>
          </div>
        </div>
      </section>

      <!-- ===== SHIP ===== -->
      <section id="pageShip" class="hidden">
        <div class="card">
          <div class="row-between">
            <h3 style="margin:0">出荷予定</h3>
            <div class="toolbar">
              <input id="shipSearch" placeholder="検索…">
              <button class="btn" id="btnShipCreate"><i class="fa-solid fa-plus"></i> 作成</button>
              <button class="btn" id="btnShipImport"><i class="fa-solid fa-upload"></i> Import</button>
              <button class="btn" id="btnShipExport"><i class="fa-regular fa-file-excel"></i> Export</button>
              <button class="btn" id="btnShipPrint"><i class="fa-solid fa-print"></i> Print</button>
              <button class="btn" id="btnShipTpl"><i class="fa-regular fa-file"></i> 雛形CSV</button>
            </div>
          </div>
          <div class="table-wrap">
            <table>
              <thead id="thShip"></thead>
              <tbody id="tbShip"></tbody>
            </table>
          </div>
        </div>
      </section>

      <!-- ===== FINISHED ===== -->
      <section id="pageFinished" class="hidden">
        <div class="card">
          <div class="row-between">
            <h3 style="margin:0">完成品一覧</h3>
            <div class="toolbar">
              <input id="finSearch" placeholder="検索…">
              <button class="btn" id="btnFinExport"><i class="fa-regular fa-file-excel"></i> Export</button>
              <button class="btn" id="btnFinPrint"><i class="fa-solid fa-print"></i> Print</button>
            </div>
          </div>
          <div class="table-wrap">
            <table>
              <thead id="thFin"></thead>
              <tbody id="tbFin"></tbody>
            </table>
          </div>
        </div>
      </section>

      <!-- ===== INVENTORY ===== -->
      <section id="pageInv" class="hidden">
        <div class="card">
          <div class="row-between">
            <h3 style="margin:0">在庫</h3>
            <div class="toolbar">
              <input id="invSearch" placeholder="検索…">
              <button class="btn" id="btnInvExport"><i class="fa-regular fa-file-excel"></i> Export</button>
              <button class="btn" id="btnInvPrint"><i class="fa-solid fa-print"></i> Print</button>
            </div>
          </div>
          <div class="table-wrap">
            <table>
              <thead id="thInv"></thead>
              <tbody id="tbInv"></tbody>
            </table>
          </div>
        </div>
      </section>

      <!-- ===== INVOICE ===== -->
      <section id="pageInvoice" class="hidden">
        <div class="card">
          <div class="row-between">
            <h3 style="margin:0">請求書作成</h3>
            <div class="toolbar">
              <select id="invoiceCustomer" style="min-width:220px"><option value="">(得意先を選択)</option></select>
              <input id="invoiceDate" type="date">
              <button class="btn" id="btnInvoiceReload"><i class="fa-solid fa-rotate"></i> 更新</button>
              <button class="btn primary" id="btnInvoiceSave"><i class="fa-regular fa-floppy-disk"></i> 保存</button>
              <button class="btn" id="btnInvoicePdf"><i class="fa-regular fa-file-pdf"></i> PDF</button>
              <button class="btn" id="btnInvoiceXlsx"><i class="fa-regular fa-file-excel"></i> Excel</button>
            </div>
          </div>

          <div class="card" style="margin-top:10px">
            <div class="s muted" style="margin-bottom:6px">未（候補）</div>
            <div class="table-wrap">
              <table>
                <thead>
                <tr>
                  <th>選択</th><th>注番</th><th>商品名</th><th>品番</th><th>数量</th>
                  <th>単価</th><th>金額</th><th>出荷日</th>
                </tr>
                </thead>
                <tbody id="tbInvoiceCandidates"></tbody>
              </table>
            </div>
          </div>

          <div class="card" style="margin-top:10px">
            <div class="s muted" style="margin-bottom:6px">得意先内 全件（ステータス）</div>
            <div class="table-wrap">
              <table>
                <thead>
                <tr>
                  <th>注番</th><th>商品名</th><th>品番</th><th>数量</th><th>単価</th>
                  <th>金額</th><th>出荷日</th><th>状態</th>
                </tr>
                </thead>
                <tbody id="tbInvoiceStatus"></tbody>
              </table>
            </div>
          </div>
        </div>

        <div class="card" style="margin-top:14px">
          <h3 style="margin:0 0 10px">請求書一覧</h3>
          <div class="table-wrap">
            <table>
              <thead>
                <tr><th>請求書番号</th><th>得意先</th><th>発行日</th><th>合計</th><th>ファイル名</th><th>作成者</th></tr>
              </thead>
              <tbody id="tbInvoiceList"></tbody>
            </table>
          </div>
        </div>
      </section>

    </main>
  </div>
</div>

<!-- ===== DIALOGS ===== -->
<dialog id="dlgAddMember" class="dlg">
  <h3 style="margin:0 0 10px">Add Member Baru</h3>
  <form id="formAddMember" method="dialog">
    <div style="display:grid;gap:6px;margin:8px 0">
      <div class="s muted">Username</div><input name="username" required placeholder="username">
    </div>
    <div style="display:grid;gap:6px;margin:8px 0">
      <div class="s muted">Password</div><input name="password" required type="password" placeholder="password">
    </div>
    <div class="grid2">
      <div style="display:grid;gap:6px;margin:8px 0">
        <div class="s muted">Role</div>
        <select name="role">
          <option value="admin">admin</option><option value="営業">営業</option>
          <option value="生産管理">生産管理</option><option value="製造">製造</option><option value="検査">検査</option>
        </select>
      </div>
      <div style="display:grid;gap:6px;margin:8px 0">
        <div class="s muted">Department</div><input name="department" placeholder="ex: 生産管理部">
      </div>
    </div>
  </form>
  <div class="row" style="margin-top:10px">
    <button class="btn primary" id="btnAddMemberSave">Simpan</button>
    <button class="btn" id="btnAddMemberCancel">Batal</button>
  </div>
</dialog>

<dialog id="dlgForm" class="dlg">
  <h3 id="dlgTitle" style="margin:0 0 10px">フォーム</h3>
  <form id="formBody" method="dialog"></form>
  <div class="row" style="margin-top:10px">
    <button class="btn primary" id="btnDlgSave">保存</button>
    <button class="btn" id="btnDlgCancel">キャンセル</button>
  </div>
</dialog>

<dialog id="dlgOp" class="dlg">
  <h3 style="margin:0 0 10px">工程 手入力</h3>
  <div class="row"><span class="muted s">注番:</span><b id="opPO"></b></div>
  <div style="display:grid;gap:6px;margin:8px 0"><div class="s muted">工程</div><select id="opProcess"></select></div>
  <div class="grid2">
    <div style="display:grid;gap:6px;margin:8px 0"><div class="s muted">OK</div><input id="opOK" type="number" min="0" value="0"></div>
    <div style="display:grid;gap:6px;margin:8px 0"><div class="s muted">NG</div><input id="opNG" type="number" min="0" value="0"></div>
  </div>
  <div style="display:grid;gap:6px;margin:8px 0"><div class="s muted">備考</div><input id="opNote" placeholder="備考"></div>
  <div class="row" style="margin-top:10px">
    <button class="btn primary" id="btnOpSave">保存</button>
    <button class="btn" id="btnOpCancel">キャンセル</button>
  </div>
</dialog>

<dialog id="dlgScan" class="dlg">
  <h3 style="margin:0 0 8px">QR スキャン</h3>
  <div id="scanResult" class="s muted">—</div>
  <div style="display:grid;gap:6px;margin-top:8px">
    <video id="scanVideo" style="width:100%;max-height:260px;background:#000;border-radius:10px" playsinline></video>
    <canvas id="scanCanvas" style="width:100%;max-height:260px;border:1px solid var(--border);border-radius:10px"></canvas>
    <div class="row">
      <button class="btn primary" id="btnScanStart"><i class="fa-solid fa-camera"></i> スキャン開始</button>
      <button class="btn" id="btnScanClose">閉じる</button>
    </div>
  </div>
</dialog>

<!-- Libs (defer) -->
<script defer src="https://cdn.jsdelivr.net/npm/chart.js@4.4.3/dist/chart.umd.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.2.0/dist/chartjs-plugin-datalabels.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/jsqr@1.4.0/dist/jsQR.js"></script>

<!-- App (gunakan app.js terbaru kamu; ID/handler tetap sama) -->
<script>
/* ====== Minimal nav glue untuk sidebar + theme (tetap kompatibel app.js) ====== */
const $=(q,el=document)=>el.querySelector(q);
const $$=(q,el=document)=>[...el.querySelectorAll(q)];
(function initTheme(){
  const sysDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
  const saved = localStorage.getItem("theme") || (sysDark ? "dark":"dark");
  document.documentElement.setAttribute("data-theme", saved);
  const btn=$("#btnTheme");
  const sync=()=>{ btn.innerHTML = (document.documentElement.getAttribute("data-theme")==="dark" ? '<i class="fa-solid fa-sun"></i> Light' : '<i class="fa-solid fa-moon"></i> Dark'); };
  if(btn) btn.onclick=()=>{ const t=document.documentElement.getAttribute("data-theme")==="dark"?"light":"dark"; document.documentElement.setAttribute("data-theme",t); localStorage.setItem("theme",t); sync(); };
  sync();
})();

/* Mark active item di sidebar */
function markActive(btnId){
  $$(".nav .item").forEach(x=>x.classList.remove("active"));
  $("#"+btnId)?.classList.add("active");
}

/* Section show/hide (sinkron dengan app.js) */
function show(id){
  ["authView","pageDash","pageSales","pagePlan","pageShip","pageFinished","pageInv","pageInvoice","pageAnalytics"]
    .forEach(p=> $("#"+p)?.classList.add("hidden"));
  $("#"+id)?.classList.remove("hidden");
}

/* Hook tombol sidebar; app.js juga akan memasang handler—tidak konflik */
$("#btnToDash")?.addEventListener("click", ()=>{ markActive("btnToDash"); show("pageDash"); window.refreshAll?.(); });
$("#btnToSales")?.addEventListener("click", ()=>{ markActive("btnToSales"); show("pageSales"); window.loadSales?.(); });
$("#btnToPlan")?.addEventListener("click", ()=>{ markActive("btnToPlan"); show("pagePlan"); window.loadPlans?.(); });
$("#btnToShip")?.addEventListener("click", ()=>{ markActive("btnToShip"); show("pageShip"); window.loadShips?.(); });
$("#btnToFinPage")?.addEventListener("click", ()=>{ markActive("btnToFinPage"); show("pageFinished"); window.loadFinished?.(); });
$("#btnToInvPage")?.addEventListener("click", ()=>{ markActive("btnToInvPage"); show("pageInv"); window.loadInventory?.(); });
$("#btnToInvoice")?.addEventListener("click", ()=>{ markActive("btnToInvoice"); show("pageInvoice"); window.initInvoicePage?.(); });
$("#btnToAnalytics")?.addEventListener("click", ()=>{ markActive("btnToAnalytics"); show("pageAnalytics"); window.initCharts?.(); });

/* Login minimal—kalau sudah ada di app.js, boleh diabaikan (tidak double) */
$("#btnLogin")?.addEventListener("click", ()=> window.loginSubmit ? window.loginSubmit() : alert("Hubungkan app.js baru."));  
$("#inUser")?.addEventListener("keydown", e=>{ if(e.key==='Enter') $("#btnLogin")?.click(); });
$("#inPass")?.addEventListener("keydown", e=>{ if(e.key==='Enter') $("#btnLogin")?.click(); });

/* Admin dialog (agar tetap bisa dipakai meski app.js belum di-load) */
$("#btnAddMember")?.addEventListener("click", ()=> $("#dlgAddMember").showModal());
$("#btnAddMemberCancel")?.addEventListener("click", ()=> $("#dlgAddMember").close());
</script>

<!-- MUAT app.js versi perbaikan (yang kemarin) -->
<script defer src="app.js?v=left-sidebar-1"></script>
</body>
</html>
